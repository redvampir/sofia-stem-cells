# Формат описания органа

Документ определяет обязательный формат файла метаданных для описания органа. Формат предназначен для машинного чтения и может быть записан в JSON или YAML; набор полей и ограничения идентичны для обоих вариантов.

## Обязательные поля

| Поле | Тип | Назначение и ограничения |
| --- | --- | --- |
| `schemaVersion` | строка (SemVer) | Версия схемы формата. Пример: `"1.0.0"`. Обновляется при изменении структуры. |
| `organType` | строка | Тип органа (например, `"kidney"`, `"liver"`). Используйте нижний регистр и латиницу для согласованности. |
| `checksum` | строка | Контрольная сумма файла данных органа в виде SHA-256 в шестнадцатеричном виде (64 символа). Предназначена для проверки целостности. |
| `minPluginVersion` | строка (SemVer) | Минимальная поддерживаемая версия плагина, способного обрабатывать этот орган. |
| `testLinks` | массив строк (URL) | Ссылки на тестовые наборы или отчёты, подтверждающие корректность органа. Должны быть общедоступными либо документированными внутри инфраструктуры. |

## Дополнительные рекомендации

- Допускается добавлять необязательные поля (например, `metadata`), но они не должны нарушать совместимость с указанной версией схемы.
- Значения SemVer должны соответствовать шаблону `MAJOR.MINOR.PATCH`.
- Контрольная сумма должна вычисляться по итоговому файлу данных органа, а не по метаданным.

## Ограничения размера и лицензии

- Размер файла метаданных не должен превышать **64 КБ**, чтобы упростить обмен через API и хранение в репозиториях.
- Ссылки на тесты и любые вложенные материалы должны соответствовать лицензии исходных данных. Рекомендуется использовать открытые лицензии (например, CC BY 4.0 или MIT) и явно указывать их в сопроводительной документации тестов.
- Если данные органа содержат сторонние материалы, убедитесь, что их лицензия разрешает распространение и использование в рамках проекта.

## Пример (YAML)

```yaml
schemaVersion: "1.0.0"
organType: "kidney"
checksum: "5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8"
minPluginVersion: "2.3.0"
testLinks:
  - "https://example.org/tests/kidney/basic"
  - "https://example.org/tests/kidney/performance"
```

## Пример (JSON)

```json
{
  "schemaVersion": "1.0.0",
  "organType": "kidney",
  "checksum": "5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8",
  "minPluginVersion": "2.3.0",
  "testLinks": [
    "https://example.org/tests/kidney/basic",
    "https://example.org/tests/kidney/performance"
  ]
}
```

## Валидация

- Проверяйте соответствие схемы (`schemaVersion`) ожидаемой версии потребителем.
- Валидация URL в `testLinks` должна включать проверку схемы (`https://`) и доступности ресурса.
- Контрольная сумма должна совпадать с вычисленной по бинарным данным органа; несоответствие считается ошибкой загрузки.
